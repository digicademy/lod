{namespace lod = Digicademy\Lod\ViewHelpers}
<div prefix="void: http://rdfs.org/ns/void# dc: http://purl.org/dc/elements/1.1/ {lod:RdfaPrefix(namespaces : namespaces)}" resource="{f:if(condition : '{resource.namespace}', then : '{resource.namespace.iri}', else : '')}{resource.value}">
    <h2 class="resource-iri">
        <a href="{environment.TYPO3_REQUEST_HOST}/{f:render(partial : 'Api/Uri', arguments : {action : 'show', type : '1991', resource : resource}) -> f:format.htmlspecialchars()}">
        &lt;<f:if condition="{resource.namespace}">{resource.namespace.iri}</f:if>{resource.value}&gt;
        </a>
    </h2>

    <h3><f:translate key="general.alternativeSerialization" /></h3>
    <ul class="alternative-serialization">
        <f:render partial="Common/AlternativeSerializations" arguments="{
            action : 'apiShow',
            resource : resource,
            environment : environment
        }"/>
    </ul>

    <h3>
        <f:translate key="api.show.description" />
    </h3>
    <dl class="resource-description">
        <dt>
            <f:render partial="Api/Link" arguments="{
                value : 'type',
                action : action,
                type : '1991',
                resource : {value: 'type', namespace : {prefix : 'rdf'}}
            }" />
        </dt>
        <f:switch expression="{resource.type}">
            <f:case value="1">
                <dd>Entity</dd>
            </f:case>
            <f:case value="2">
                <dd>Property</dd>
            </f:case>
        </f:switch>
        <f:if condition="{resource.label}">
            <dt>
                <f:render partial="Api/Link" arguments="{value : 'label',  action : action, type : '1991', resource : {value : 'label', namespace : {prefix : 'rdfs'}}}" />
            </dt>
            <dd property="rdfs:label"{f:if(condition: '{resource.labelLanguage}', then: ' lang="{resource.labelLanguage}"')}>{resource.label}</dd>
        </f:if>
        <f:if condition="{resource.comment}">
            <dt>
                <f:render partial="Api/Link" arguments="{value : 'comment',  action : action, type : '1991', resource : {value : 'comment', namespace : {prefix : 'rdfs'}}}" />
            </dt>
            <dd property="rdfs:comment"{f:if(condition: '{resource.commentLanguage}', then: ' lang="{resource.commentLanguage}"')}>{resource.comment}</dd>
        </f:if>
    </dl>

    <f:if condition="{resource.statements}">
        <h3 class="resource-statements-header">
            <f:translate key="api.show.statements" />
        </h3>

        <f:groupedFor each="{resource.statements}" as="groupedStatements" groupBy="graph" groupKey="graph">
            <h4 class="resource-statements-graphname">
            <f:if condition="{graph}">
                <f:then>
                    &lt;{graph.iri.namespace.iri.value}{graph.iri.value}&gt;
                </f:then>
                <f:else>
                    &lt;Default graph&gt;
                </f:else>
            </f:if>
            </h4>
            <dl class="resource-statements">
                <f:for each="{groupedStatements}" as="statement">
                    <dt>
                        <f:render partial="Api/Link" arguments="{value : statement.predicate.value,  action : action, type : '1991', resource : statement.predicate}" />
                    </dt>
                    <dd>
                        <f:render partial="Common/Object" arguments="{
                            iri: '{f:if(condition : \'{resource.namespace}\', then : \'{resource.namespace.iri}\', else : \'\')}{resource.value}',
                            statement : statement,
                            mode : 'api'
                        }"/>
                    </dd>
                </f:for>
            </dl>
        </f:groupedFor>
    </f:if>

    <f:if condition="{resource.record}">
        <h3 class="resource-record-header">
            <f:translate key="api.show.record" />
        </h3>
        <dl class="resource-record" property="dc:relation" resource="[_:eb0d307c-5915-4d1d-9444-52a8640ef80d]">
            <f:if condition="{resource.record.label}">
                <dt>
                    <f:render partial="Api/Link" arguments="{value : 'label',  action : action, type : '1991', resource : {namespace : {prefix : 'rdfs'}}}" />
                </dt>
                <dd about="[_:eb0d307c-5915-4d1d-9444-52a8640ef80d]" property="rdfs:label">
                    {resource.record.label}
                </dd>
            </f:if>
            <f:if condition="{resource.record.comment}">
                <dt>
                    <f:render partial="Api/Link" arguments="{value : 'comment',  action : action, type : '1991', resource : {namespace : {prefix : 'rdfs'}}}" />
                </dt>
                <dd about="[_:eb0d307c-5915-4d1d-9444-52a8640ef80d]" property="rdfs:comment">
                    {resource.record.comment}
                </dd>
            </f:if>
        </dl>
        <f:comment>
            {resource.record.domainObject} => contains the mapped extbase domain object for further processing
        </f:comment>
    </f:if>
</div>