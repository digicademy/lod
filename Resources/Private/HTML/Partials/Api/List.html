{namespace lod = Digicademy\Lod\ViewHelpers}{escaping off}
<div vocab="http://www.w3.org/ns/hydra/core#" prefix="rdfs: http://www.w3.org/2000/01/rdf-schema# dc: http://purl.org/dc/elements/1.1/ void: http://rdfs.org/ns/void#" typeof="Collection void:Dataset">

    <h1><f:translate key="api.list.header" /> (<span property="totalItems">{totalItems}</span>)</h1>

    <ul class="alternative-serialization navbar">
        <li><strong><f:translate key="general.alternativeSerialization" /></strong></li>
        <f:render partial="Common/AlternativeSerializations" arguments="{
            action : 'apiList',
            environment : environment,
            page : arguments.page,
            limit : arguments.limit,
            query : arguments.query,
            subject : arguments.subject,
            predicate : arguments.predicate,
            object : arguments.object,
            sorting : arguments.sorting
        }"/>
    </ul>

    <f:render partial="Api/Search" arguments="{_all}" />

    <f:render partial="Api/StatementFilter" arguments="{_all}" />

    <f:render partial="Api/PaginationNavigation" arguments="{_all}" />

    <f:render partial="Api/PaginationResourcesPerPage" arguments="{_all}" />

    <table>
        <thead>
            <tr>
                <th>
                    <f:translate key="api.list.resource" />
                    <a class="button sorting{f:if(condition: '{arguments.sorting} == 1', then : ' active', else : '')}" href="{environment.TYPO3_REQUEST_HOST}{f:render(partial : 'Api/Uri', arguments : {action : 'list', type : '1991', query : arguments.query, subject : arguments.subject, predicate : arguments.predicate, object : arguments.object, limit : arguments.limit, page : arguments.page, sorting : 1}) -> f:format.htmlspecialchars()}">
                        ↓
                    </a>
                    <a class="button sorting{f:if(condition: '{arguments.sorting} == 2', then : ' active', else : '')}" href="{environment.TYPO3_REQUEST_HOST}{f:render(partial : 'Api/Uri', arguments : {action : 'list', type : '1991', query : arguments.query, subject : arguments.subject, predicate : arguments.predicate, object : arguments.object, limit : arguments.limit, page : arguments.page, sorting : 2}) -> f:format.htmlspecialchars()}">
                        ↑
                    </a>
                </th>
                <th>
                    <f:translate key="api.list.label" />
                    <a class="button sorting{f:if(condition: '{arguments.sorting} == 3', then : ' active', else : '')}" href="{environment.TYPO3_REQUEST_HOST}{f:render(partial : 'Api/Uri', arguments : {action : 'list', type : '1991', query : arguments.query, subject : arguments.subject, predicate : arguments.predicate, object : arguments.object, limit : arguments.limit, page : arguments.page, sorting : 3}) -> f:format.htmlspecialchars()}">
                        ↓
                    </a>
                    <a class="button sorting{f:if(condition: '{arguments.sorting} == 4', then : ' active', else : '')}" href="{environment.TYPO3_REQUEST_HOST}{f:render(partial : 'Api/Uri', arguments : {action : 'list', type : '1991', query : arguments.query, subject : arguments.subject, predicate : arguments.predicate, object : arguments.object, limit : arguments.limit, page : arguments.page, sorting : 4}) -> f:format.htmlspecialchars()}">
                        ↑
                    </a>
                </th>
                <th colspan="5"><f:translate key="general.alternativeSerialization" /></th>
            </tr>
        </thead>
        <tbody>
        <f:for each="{resources}" as="resource">
            <tr property="member" resource="{resource.namespace.iri -> f:format.htmlspecialchars()}{resource.value -> f:format.htmlspecialchars()}">
                <td id="{resource.value}" about="{resource.namespace.iri -> f:format.htmlspecialchars()}{resource.value -> f:format.htmlspecialchars()}">
                    <a property="rdfs:seeAlso" href="{environment.TYPO3_REQUEST_HOST}{f:render(partial : 'Api/Uri', arguments : {action : 'show', type : '1991', resource : resource, query : arguments.query, subject : arguments.subject, predicate : arguments.predicate, object : arguments.object, limit : arguments.limit, page : arguments.page, sorting : arguments.sorting}) -> f:format.htmlspecialchars()}" typeof="void:Dataset">
                        <span property="void:feature" resource="http://www.w3.org/ns/formats/RDFa">{resource.value}</span>
                    </a>
                </td>
                <td>
                    <f:if condition="{resource.label}">
                        <a href="{environment.TYPO3_REQUEST_HOST}{f:render(partial : 'Api/Uri', arguments : {action : 'show', type : '1991', resource : resource, query : arguments.query, subject : arguments.subject, predicate : arguments.predicate, object : arguments.object, limit : arguments.limit, page : arguments.page, sorting : arguments.sorting}) -> f:format.htmlspecialchars()}" typeof="void:Dataset">
                            {resource.label}
                        </a>
                    </f:if>
                </td>
                <f:render partial="Common/AlternativeSerializations" arguments="{
                    action : 'apiShow',
                    resource : resource,
                    environment : environment,
                    mode : 'td'
                }"/>
            </tr>
        </f:for>
        </tbody>
    </table>

    <f:render partial="Api/PaginationNavigation" arguments="{_all}" />

    <f:render partial="Api/PaginationResourcesPerPage" arguments="{_all}" />
</div>