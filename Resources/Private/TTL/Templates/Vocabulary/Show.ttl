{namespace lod = Digicademy\Lod\ViewHelpers}<lod:RemoveEmptyLines><f:for each="{namespaces}" as="namespace">@prefix {namespace.prefix}: <{namespace.iri}> .
</f:for>

<{vocabulary.iri.namespace.value}{vocabulary.iri.value}>
    a owl:Ontology ;
    <f:if condition="{vocabulary.label}">dc:title {lod:EscapeLiteral(literal : vocabulary.label, format : 'turtle')} ;</f:if>
    <f:if condition="{vocabulary.comment}">dc:description {lod:EscapeLiteral(literal : vocabulary.comment, format : 'turtle')} ;</f:if>
    ### SERIALISATION ###
    <f:render partial="Vocabulary/Term" arguments="{term : vocabulary.iri}" />

<f:if condition="{vocabulary.iri.statements}">
<f:for each="{lod:ObjectIriRecursion(iri : vocabulary.iri, maxDepth : 5)}" as="iri">
<{iri.namespace.value}{iri.value}>
    <f:render partial="Vocabulary/Term" arguments="{term : iri}" />
</f:for>
</f:if>

<f:if condition="{vocabulary.terms}">
<f:for each="{vocabulary.terms}" as="term">
<{term.namespace.iri}{term.value}>
<f:switch expression="{term.type}">
<f:case value="1">
    a owl:Class ;
    <f:render partial="Vocabulary/Term" arguments="{term : term}" />

<f:if condition="{vocabulary.iri.statements}">
<f:for each="{lod:ObjectIriRecursion(iri : term, maxDepth : 5)}" as="iri">
<{iri.namespace.value}{iri.value}>
    <f:render partial="Vocabulary/Term" arguments="{term : iri}" />
</f:for>
</f:if>
</f:case>
<f:case value="2">
    a rdf:Property ;
    <f:render partial="Vocabulary/Term" arguments="{term : term}" />

<f:if condition="{vocabulary.iri.statements}">
<f:for each="{lod:ObjectIriRecursion(iri : term, maxDepth : 5)}" as="iri">
<{iri.namespace.value}{iri.value}>
    <f:render partial="Vocabulary/Term" arguments="{term : iri}" />
</f:for>
</f:if>
</f:case>
</f:switch>
</f:for>
</f:if>
</lod:RemoveEmptyLines>